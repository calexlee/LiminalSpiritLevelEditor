(this.webpackJsonple=this.webpackJsonple||[]).push([[0],{23:function(e,t,a){},27:function(e,t){},52:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),n=a(17),r=a.n(n),i=(a(23),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,53)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))}),l=a(3),o=(a(8),a.p,a.p,a.p+"static/media/blank.67dd73c0.jpg"),m=(a.p,a.p,a.p,a.p,a.p,a.p,a.p,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHISURBVFhH7Zj7boIwFIdPKVAU5+JeeY+yl9s/i4ubcm27c7AlXHSQNRss6Wd+ULEtn6VclL2+PGtYCmZXpoBo3dcJzHoZyAVDUjZDlhWcgRd0xQu64gVd8YKueEFXvKArXtAVL+jKWNA85a6FnmDz2G1ea6EnyBj+fDFZCwNBWpishMEhpoXJShifJCvDC7ry/wSrSkKRV/B5yiE7l1Dj+yUZCUoUuqDY+/EMH6cM8qxqti91aRwJxkkEYRRAWdQgpQSlVHOHOb6dIceRvfUHz28yEqSRCkMOyTYGgbIsYCiqcFQLPORFO6J/BQl2L88ab3M6jLjebGONghpltZRao5jOLlUzijOxfVq65SlaHxKks6CXKOLy8JTKdJfIKOZS4QurSzzsCkdxzo6on9qsu7E7nqJtT4JUuJuAsZqHQZ0+iHp/2FSPh5S2T0GnlO1bmdBOS7OeI0l1aurEPh7cDM5BxnnAcDRZmgqWbCLcPEm3D2L4foq2PgmK74JzUqCg2O0TgXMyxvIcQ+rc9k31Q0xsQuUpUY6hdoI6WTWB/S50eetm1iy5h2v7DjjD7Ghf/2W/lYbBrcQ+eV9jPqZg9badbftjAL4AKQjZP+VR5zUAAAAASUVORK5CYII="),d=(a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a(0)),u=a(18),p=a.p+"static/media/player.87f7a227.png",b=a.p+"static/media/specter.15b41021.png",v=a.p+"static/media/mirror.47959cbc.png",j=function(e){var t,a=e.itemName,s=e.itemId,c=e.callback,n=e.hide,r=e.large,i=e.x,l=e.y,u={color:"black",border:"1px solid black",display:n?"none":"inline-block","background-color":"white",margin:0,width:r?"100px":"27px",height:r?"100px":"20px",padding:"0px"};return Object(d.jsx)("div",{style:u,onDragOver:function(){c(s,i,l,a)},onClick:function(){c(s,i,l,a)},children:Object(d.jsx)("img",{src:(t=a,"chef"===t?p:"wall"===t?m:"specter"===t?b:"mirror"===t?v:o),alt:"",className:"square"})})},w=(a(25),function(e){e.callback;var t=Object(s.useState)("chef"),a=Object(l.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(54),i=Object(l.a)(r,2),o=i[0],m=i[1],p=Object(s.useState)(32),b=Object(l.a)(p,2),v=b[0],w=(b[1],Object(s.useState)("level")),h=Object(l.a)(w,2),O=h[0],f=h[1],x=Object(s.useState)("cave"),A=Object(l.a)(x,2),g=A[0],N=A[1],S=Object(s.useState)({items:Object(u.a)(Array(1)).map((function(){return Array(1728).fill("")})),startpos:[],wavenumber:1,selectedwave:1,wavespawntimes:Array(1).fill(0)}),C=Object(l.a)(S,2),k=C[0],y=C[1],J=["chef","wall"," "],E=["specter","mirror"],L=function(e,t,a,s){var n=k.items.slice();E.includes(c)?n[k.selectedwave-1][e]=c:n.forEach((function(t){t[e]=c})),y("chef"===c?{items:n,startpos:[t,a],wavenumber:k.wavenumber,selectedwave:k.selectedwave,wavespawntimes:k.wavespawntimes}:{items:n,startpos:k.startpos,wavenumber:k.wavenumber,selectedwave:k.selectedwave,wavespawntimes:k.wavespawntimes})},U=function(e){var t=0,a=o-1,s=0,c=[];return e.forEach((function(e){"wall"===e&&s++,0!==(t=(t+1)%v)&&"wall"===e||(0===t&&a--,s>0&&(c.push([t-s,a,s]),s=0))})),c},I=function(){var e=[];return k.items.forEach((function(t){e.push(function(e){var t=0,a=o-1,s=[];return e.forEach((function(e){E.includes(e)&&s.push([t,a]),0===(t=(t+1)%v)&&a--})),s}(t))})),e},R=function(){var e=[];return k.items.forEach((function(t){var a=[];t.forEach((function(e){E.includes(e)&&a.push(e)})),e.push(a)})),e},W=function(e){var t=J.concat(E);n(t[e])};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",children:" Liminal Spirit Level Editor"}),Object(d.jsxs)("div",{className:"upload",children:[Object(d.jsx)("p",{children:"Load json level: "}),Object(d.jsx)("input",{type:"file",onChange:function(e){return function(t){var a=new FileReader;a.onloadend=function(){try{y({items:JSON.parse(a.result).items,startpos:JSON.parse(a.result).start_pos,wavenumber:JSON.parse(a.result).items.length,selectedwave:1,wavespawntimes:JSON.parse(a.result).spawn_order}),m(JSON.parse(a.result).height),N(JSON.parse(a.result).biome),f(JSON.parse(a.result).name)}catch(e){console.log("**Not valid JSON file!**")}},void 0!==t&&a.readAsText(t)}(e.target.files[0])}})]}),Object(d.jsx)("div",{className:"grid",children:k.items[k.selectedwave-1].map((function(e,t){return Object(d.jsx)(j,{itemName:e,itemId:t,hide:!1,large:!1,callback:L,x:t%v,y:o-Math.floor(t/v)-1})}))}),Object(d.jsxs)("div",{className:"selector",children:[Object(d.jsxs)("p",{className:"selected",children:["Currently Selected: ",Object(d.jsx)(j,{itemName:c,itemId:0,hide:!1,large:!0,callback:function(){return!1}})]}),J.map((function(e,t){return Object(d.jsx)(j,{itemName:e,itemId:t,hide:!1,large:!1,callback:W})})),Object(d.jsx)("p",{children:" Enemies: "}),E.map((function(e,t){return Object(d.jsx)(j,{itemName:e,itemId:t+J.length,hide:!1,large:!1,callback:W})})),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"addWave",onClick:function(){var e=k.items.slice();e[e.length]=e[0].slice();var t=k.wavespawntimes.slice();t.push(0),y({items:e,startpos:k.startpos,wavenumber:k.wavenumber+1,selectedwave:k.selectedwave,wavespawntimes:t})},children:"Add Wave to Level"}),Object(d.jsx)("button",{className:"subWave",onClick:function(){if(k.wavenumber>1){var e=k.items.slice();e.pop();var t=k.wavespawntimes.slice();t.pop(),k.wavenumber-1<k.selectedwave?y({items:e,startpos:k.startpos,wavenumber:k.wavenumber-1,selectedwave:k.selectedwave-1,wavespawntimes:t}):y({items:e,startpos:k.startpos,wavenumber:k.wavenumber-1,selectedwave:k.selectedwave,wavespawntimes:t})}},children:" Subtract Wave from Level "}),Object(d.jsx)("button",{className:"nextWave",onClick:function(){k.selectedwave<k.wavenumber&&y({items:k.items,startpos:k.startpos,wavenumber:k.wavenumber,selectedwave:k.selectedwave+1,wavespawntimes:k.wavespawntimes})},children:"Go to Next Wave"}),Object(d.jsx)("button",{className:"prevWave",onClick:function(){k.selectedwave>1&&y({items:k.items,startpos:k.startpos,wavenumber:k.wavenumber,selectedwave:k.selectedwave-1,wavespawntimes:k.wavespawntimes})},children:" Go to Previous Wave "}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"textfields",children:[Object(d.jsxs)("form",{children:[Object(d.jsxs)("label",{children:["Spawns in Wave ",k.selectedwave]}),Object(d.jsx)("br",{}),Object(d.jsxs)("label",{children:["There are ",k.wavenumber," total waves"]})]}),Object(d.jsx)("h2",{children:" Other Values "}),Object(d.jsx)("form",{children:Object(d.jsxs)("label",{children:["Spawn Times are currently [",k.wavespawntimes.map((function(e){return Object(d.jsxs)("span",{children:["[",e,"]"]})})),"]:",Object(d.jsx)("textarea",{className:"jAdd",onChange:function(e){var t=k.wavespawntimes.slice(),a=parseInt(e.target.value);t[k.selectedwave-1]=isNaN(a)?0:a,y({items:k.items,startpos:k.startpos,wavenumber:k.wavenumber,selectedwave:k.selectedwave,wavespawntimes:t})}})]})}),Object(d.jsx)("form",{children:Object(d.jsxs)("label",{children:["Biome:",Object(d.jsx)("textarea",{className:"jAdd",value:g,onChange:function(e){N(e.target.value)}})]})}),Object(d.jsx)("form",{children:Object(d.jsxs)("label",{children:["Level Name:",Object(d.jsx)("textarea",{className:"jAdd",value:O,onChange:function(e){f(e.target.value)}})]})})]}),Object(d.jsx)("button",{className:"download",onClick:function(){var e=document.createElement("a"),t=JSON.stringify({name:O,start_pos:k.startpos,biome:g,level_height:o,spawn_order:R(),spawn_pos:I(),spawn_times:k.wavespawntimes,platforms:U(k.items[0]),items:k.items}),a=new Blob([t],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download=O+".json",document.body.appendChild(e),e.click()},children:"Save JSON"})]})]})}),h=function(){return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"game-board",children:Object(d.jsx)(w,{callback:function(){}})}),Object(d.jsx)("div",{className:"info"})]})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root")),i()},8:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.cfc76cdf.chunk.js.map